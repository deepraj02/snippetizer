(()=>{"use strict";var e={265:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){let t=s.commands.registerCommand("snippetizer.createSnippet",(async()=>{const e=s.window.activeTextEditor;if(!e)return void s.window.showErrorMessage("No active editor!");const t=e.selection,r=e.document.getText(t);if(!r)return void s.window.showErrorMessage("No text selected!");const n=await(0,c.getInput)("Enter snippet name","Snippet name is required!");if(null===n)return;const i=await(0,c.getInput)("Enter snippet description","Snippet description is required!");if(null===i)return;const o=await(0,c.getInput)("Enter snippet alias (prefix)","Snippet alias is required!");if(null!==o)try{const e=await(0,a.showSnippetFiles)();e&&await(0,u.saveSnippet)(e,n,i,o,r)}catch(e){s.window.showErrorMessage("Failed to add snippet:"),console.error("Error adding snippet:",e)}}));e.subscriptions.push(t)},t.deactivate=function(){};const s=o(r(398)),a=r(120),u=r(868),c=r(487)},487:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getInput=async function(e,t){let r;for(;;){if(r=await s.window.showInputBox({prompt:e})??null,null===r)return null;if(r)break;s.window.showErrorMessage(t)}return r};const s=o(r(398))},180:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getUserSnippetsFolder=function(){switch(a.platform()){case"win32":return s.join(process.env.APPDATA||"","Code","User","snippets");case"darwin":return s.join(a.homedir(),"Library","Application Support","Code","User","snippets");default:return s.join(a.homedir(),".config","Code","User","snippets")}};const s=o(r(928)),a=o(r(857))},868:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.saveSnippet=async function(e,t,r,n,i){let o="{}";if(a.existsSync(e))try{o=await a.promises.readFile(e,"utf8"),JSON.parse(o)}catch(e){console.error("Error reading or parsing existing snippets file:",e),o="{}"}o=o.trim().replace(/}$/,""),o.length>1&&(o+=",");o+=`\n  "${t}": {\n    "prefix": "${n}",\n    "body": ${JSON.stringify(i.split("\n"))},\n    "description": "${r}"\n  }\n}`;try{await a.promises.writeFile(e,o);const t=await s.workspace.openTextDocument(e);await s.window.showTextDocument(t),s.window.showInformationMessage("Snippet added successfully!")}catch(e){throw console.error("Error writing snippet file:",e),e instanceof Error?new Error(`Failed to write snippet file: ${e.message}`):new Error("Failed to write snippet file due to an unknown error")}};const s=o(r(398)),a=o(r(896))},120:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.showSnippetFiles=async function(){const e=(0,c.getUserSnippetsFolder)();try{await a.promises.mkdir(e,{recursive:!0});const t=await a.promises.readdir(e);0===t.length&&t.push("Create new snippets file");const r=await s.window.showQuickPick(t,{placeHolder:"Select a snippet file or create a new one"});if("Create new snippets file"===r){const t=await s.window.showInputBox({prompt:"Enter the name for the new snippets file (without .json extension)"});if(t)return u.join(e,`${t}.json`)}else if(r)return u.join(e,r)}catch(e){s.window.showErrorMessage(`Error reading snippet files: ${e}`)}return""};const s=o(r(398)),a=o(r(896)),u=o(r(928)),c=r(180)},398:e=>{e.exports=require("vscode")},896:e=>{e.exports=require("fs")},857:e=>{e.exports=require("os")},928:e=>{e.exports=require("path")}},t={},r=function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}(265);module.exports=r})();